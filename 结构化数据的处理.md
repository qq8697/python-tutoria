# 结构化数据处理
## csv
`csv` 模块中的 `reader` 和 `writer` 可用于读写序列化的数据。也可使用 `DictReader` 类和 `DictWriter` 类以字典的形式读写数据。

构造数据 data.csv 如下：
```
2017-06-30,8.69,8.74,8.66,8.70,36220400,8.70
2017-06-29,8.63,8.69,8.62,8.69,36961100,8.69
2017-06-28,8.58,8.64,8.56,8.63,33651900,8.63
```

`reader` 和 `writer` 函数的用法示例：
```
import csv

with open('data.csv', 'r') as rf:
    reader = csv.reader(rf)

    with open('data_cp.csv', 'w', newline='') as wf:
        writer = csv.writer(wf)

        for row in reader:
            print(row)
            if row[0] > '2017-00-20' and int(row[5]) > 36000000:
                writer.writerow(row)
```
1. windows 平台写入时出现空行的原因：如果没有指定 `newline=''`，在写入时，使用 `\r\n` 换行的平台会有多余的 `\r` 写入。


`DictReader` 类和 `DictWriter` 类用法示例：
```
import csv

with open('data.csv', 'r') as rf:
	filenames = ['date','v1', 'v2', 'v3', 'v4', 'value', 'v5']
    reader = csv.DictReader(rf,filenames)

    with open('data_cp.csv', 'w', newline='') as wf:
        writer = csv.DictWriter(wf, filenames)

        writer.writeheader()
        for row in reader:
            print(row)
            if row['date'] > '2017-00-20' and int(row['value']) > 36000000:
                writer.writerow(row)
```


## json
1. `json` 模块 `loads` 把json字符串转为python对象 `dumps` 把Python对象转为json字符串

## xml
```
<?xml version="1.0"?>
<data>
    <country name="Liechtenstein">
        <rank>1</rank>
        <year>2008</year>
        <gdppc>141100</gdppc>
        <neighbor name="Austria" direction="E"/>
        <neighbor name="Switzerland" direction="W"/>
    </country>
    <country name="Singapore">
        <rank>4</rank>
        <year>2011</year>
        <gdppc>59900</gdppc>
        <neighbor name="Malaysia" direction="N"/>
    </country>
    <country name="Panama">
        <rank>68</rank>
        <year>2011</year>
        <gdppc>13600</gdppc>
        <neighbor name="Costa Rica" direction="W"/>
        <neighbor name="Colombia" direction="E"/>
    </country>
</data>
```
1. `xml.etree.ElementTree` 模块的 `parse` 和 `write`

## excel
1. 第三方 `xlrd` 和 `xlwt`模块


# 参考文档
1. 官网 [csv](https://docs.python.org/3.5/library/csv.html) | [json](https://docs.python.org/3.5/library/json.html)